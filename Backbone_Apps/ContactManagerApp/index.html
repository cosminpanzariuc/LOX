<html>
    <head>
        <script type="text/javascript" src="res/jquery-2.1.4.min.js"></script>
        <script type="text/javascript" src="res/underscore.js"></script>
        <script type="text/javascript" src="res/backbone.js"></script>
        <script type="text/javascript" src="res/bootstrap/bootstrap-3.3.6-dist/js/bootstrap.min.js"></script>
        <link href="res/bootstrap/bootstrap-3.3.6-dist/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
        <link href="src/loStyle.css" rel="stylesheet" type="text/css" />
    </head>


    <body>
        <div class="container">
            <h1>Contact Manager App</h1>
            <hr/>
            <div id="page"></div>
        </div>

        
        <script type="text/template" id="user-list-template">
            <p>
                <a href="#/new" class="btn btn-primary">New User</a>
            </p>
            <input style="width: 100%" type="text" class="form-control" placeholder="Search..." autofocus/>

            <hr/>
            <table class="table table-striped table-hover">
                <thead>
                    <tr>
                        <th>First Name</th>
                        <th>Last Name</th>
                        <th>Age</th>
                        <th>Edit User</th>
                    </tr>
                </thead>
                <tbody>
                    <% _.each(allUsers, function(user) { %>
                       <tr>
                           <td><%= user.get("firstname") %></td>
                           <td><%= user.get("lastname") %></td>
                           <td><%= user.get("age") %></td>
                           <td>
                                <a href="#/edit/<%= user.id %>" class="btn btn-default">Edit User</a>
                           </td>
                       </tr>
                    <% }); %>
                </tbody>
            </table>
        </script>


        <script type="text/template" id="edit-user-template">
            <form class="form-horizontal edit-user-form">
                <legend><%= existingUser ? "Update" : "Create" %> User</legend>
                <div class="form-group">
                    <label>First Name</label>
                    <input class="form-control" type="text" name="firstname" value="<%= existingUser ? existingUser.get('firstname') : '' %>" />
                </div>
                <div class="form-group">
                    <label>Last Name</label>
                    <input class="form-control" type="text" name="lastname" value="<%= existingUser ? existingUser.get('lastname') : '' %>" />
                </div>
                <div class="form-group">
                    <label>Age</label>
                    <input class="form-control" type="text" name="age" value="<%= existingUser ? existingUser.get('age') : '' %>" />
                </div>
                <% if(existingUser){ %>
                    <input type="hidden" name="id" value="<%= existingUser.id %>" />
                <% }; %>
                <button type="submit" class="btn btn-success">
                    <%= existingUser ? "Update" : "Create" %> User
                </button>
                <button type="button" class="btn btn-danger delete">Delete User</button>
            </form>

        </script> 


        <script type="text/javascript" src="src/Routers/routes.js"></script>
        <script type="text/javascript" src="src/Models/userItem.js"></script>
        <script type="text/javascript" src="src/Collections/UserList.js"></script>
        <script type="text/javascript" src="src/Views/userListView.js"></script>
        <script type="text/javascript" src="src/Views/editUserView.js"></script>
        <script type="text/javascript" src="src/main.js"></script>
    </body>

</html>
