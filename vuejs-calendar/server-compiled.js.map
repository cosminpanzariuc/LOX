{"version":3,"sources":["server.js"],"names":[],"mappings":"AAAA,QAAQ,QAAR,EAAkB,MAAlB,CAAyB,EAAE,QAAQ,IAAV,EAAzB;;AAEA,MAAM,UAAU,QAAQ,SAAR,CAAhB;AACA,MAAM,MAAM,SAAZ;AACA,MAAM,OAAO,QAAQ,MAAR,CAAb;AACA,MAAM,KAAK,QAAQ,IAAR,CAAX;AACA,MAAM,OAAO,QAAQ,MAAR,CAAb;AACA,MAAM,SAAS,QAAQ,iBAAR,CAAf;AACA,OAAO,EAAP,CAAU,UAAV,CAAqB,KAArB;AACA,MAAM,YAAY,QAAQ,sBAAR,CAAlB;;AAEA,IAAI,GAAJ,CAAQ,SAAR,EAAmB,QAAQ,MAAR,CAAe,KAAK,IAAL,CAAU,SAAV,EAAqB,QAArB,CAAf,CAAnB;;AAGA,IAAI,SAAS,CACT,EAAC,aAAa,gBAAd,EAAgC,MAAM,OAAO,YAAP,EAAqB,YAArB,CAAtC,EADS,EAET,EAAC,aAAa,gBAAd,EAAgC,MAAM,OAAO,YAAP,EAAqB,YAArB,CAAtC,EAFS,EAGT,EAAC,aAAa,gBAAd,EAAgC,MAAM,OAAO,YAAP,EAAqB,YAArB,CAAtC,EAHS,CAAb;;AAMA,IAAI,GAAJ,CAAQ,GAAR,EAAa,CAAC,GAAD,EAAM,GAAN,KAAc;AACzB,MAAI,WAAW,GAAG,YAAH,CAAgB,KAAK,OAAL,CAAa,cAAb,CAAhB,EAA8C,OAA9C,CAAf;AACE,MAAI,gBAAgB,YAApB;AACF,MAAI,IAAJ,CAAS,SAAS,OAAT,CAAiB,aAAjB,EAAiC,iCAAgC,UAAU,MAAV,CAAkB,WAAnF,CAAT;AAED,CALD;;AAQA,IAAI,GAAJ,CAAQ,QAAQ,aAAR,EAAuB,IAAvB,EAAR;AACA,IAAI,IAAJ,CAAS,YAAT,EAAuB,CAAC,GAAD,EAAM,GAAN,KAAc;AACjC,SAAO,IAAP,CAAY,IAAI,IAAhB;AACA,MAAI,UAAJ,CAAe,GAAf;AACH,CAHD;;AAKA,MAAM,SAAS,KAAK,YAAL,CAAkB,GAAlB,CAAf;;AAEA,IAAI,QAAQ,GAAR,CAAY,QAAZ,KAAyB,aAA7B,EAA4C;AAC1C,QAAM,SAAS,QAAQ,QAAR,CAAf;AACA,QAAM,eAAe,OAAO,MAAP,EAAe,GAAf,CAArB;AACA,UAAQ,0BAAR,EAAoC,IAApC,CAAyC,GAAzC;AACD;;AAED,OAAO,MAAP,CAAc,QAAQ,GAAR,CAAY,IAA1B,EAAgC,YAAY;AAC1C,UAAQ,GAAR,CAAa,iCAAgC,QAAQ,GAAR,CAAY,IAAK,GAA9D;AACA,MAAI,QAAQ,GAAR,CAAY,QAAZ,KAAyB,aAA7B,EAA4C;AAC1C,YAAQ,MAAR,EAAiB,oBAAmB,QAAQ,GAAR,CAAY,IAAK,EAArD;AACD;AACF,CALD","file":"server-compiled.js","sourcesContent":["require('dotenv').config({ silent: true });\r\n\r\nconst express = require('express');\r\nconst app = express();\r\nconst path = require('path');\r\nconst fs = require('fs');\r\nconst http = require('http');\r\nconst moment = require('moment-timezone');\r\nmoment.tz.setDefault('UTC');\r\nconst serialize = require('serialize-javascript');\r\n\r\napp.use('/public', express.static(path.join(__dirname, 'public')));\r\n\r\n\r\nlet events = [\r\n    {description: 'Random Event 1', date: moment('2018-04-18', 'YYYY-MM-DD')},\r\n    {description: 'Random Event 2', date: moment('2018-04-22', 'YYYY-MM-DD')},\r\n    {description: 'Random Event 3', date: moment('2018-04-02', 'YYYY-MM-DD')}\r\n];\r\n\r\napp.get('/', (req, res) => {\r\n  let template = fs.readFileSync(path.resolve('./index.html'), 'utf-8');\r\n    let contentMarker = '<!--APP-->';\r\n  res.send(template.replace(contentMarker, `<script>var __INITIAL_STATE__=${serialize(events)}</script>`));\r\n\r\n});\r\n\r\n\r\napp.use(require('body-parser').json());\r\napp.post('/add_event', (req, res) => {\r\n    events.push(req.body);\r\n    res.sendStatus(200);\r\n});\r\n\r\nconst server = http.createServer(app);\r\n\r\nif (process.env.NODE_ENV === 'development') {\r\n  const reload = require('reload');\r\n  const reloadServer = reload(server, app);\r\n  require('./webpack-dev-middleware').init(app);\r\n}\r\n\r\nserver.listen(process.env.PORT, function () {\r\n  console.log(`Example app listening on port ${process.env.PORT}!`);\r\n  if (process.env.NODE_ENV === 'development') {\r\n    require(\"open\")(`http://localhost:${process.env.PORT}`);\r\n  }\r\n});\r\n"]}